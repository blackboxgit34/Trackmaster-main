function format(n){var i=n,r,t;return i.overstoppageCount>0&&(r=i.overStoppageData,t='<table id="subTbl" cellpadding="5" class="table table-hover" cellspacing="0" width="100%"   style = "outline-style: solid; outline-width: thin; outline-color: lightgray; "><thead><tr><th>Start Date<\/th><th>End Date<\/th><th>Location<\/th><th>Duration<\/th><\/tr><\/thead>',r.forEach(function(n){t=t+"<tr><td>"+moment(n.StartDate).format("MMM D YYYY, hh:mm:ss a")+"<\/td><td>"+moment(n.StopDate).format("MMM D YYYY, hh:mm:ss a")+"<\/td><td>"+n.StopLocation+"<\/td><td>"+n.Duration+"<\/td><\/tr>"}),t=t+"<\/table>"),t}function GetOverStoppage(n){var i,r,t;deleteTable();i=baseUrl+"Reportsapi/GetOverStoppageReport";r="Stoppage_Analysis_Report_"+$beginDate+"_"+$endDate;table=$("#dt_basic_Master").DataTable({processing:!0,serverSide:!0,destroy:!0,retrieve:!0,sAjaxSource:i,language:{searchPlaceholder:"Search Vehicle Name",sSearch:""},iDisplayLength:20,aLengthMenu:[[5,10,20,25,50],[5,10,20,25,50]],fnServerParams:function(t){t.push({name:"beginDate",value:$beginDate},{name:"endDate",value:$endDate},{name:"bbid",value:""},{name:"custid",value:$custid},{name:"downloadType",value:n},{name:"reportName",value:r})},columns:[{data:"vehname"},{data:"driverName"},{data:"overstoppageCount"},{data:"overstoppageLimit"},{data:"overstoppageDuration"},{orderable:!1,targets:0,className:"details-control",orderable:!1,data:null,defaultContent:""}],rowCallback:function(n,t,i){if(t.overstoppageCount==0){var r=$(n).find(".details-control"),i=r.index();$(n).find("td:eq("+i+")").removeClass("details-control")}}});t=getUrlParameter("vehName");t&&table.search(t).draw()}function DownloadData(n,t){var i=moment($beginDate).format("D_MMM_YYYY"),r=moment($endDate).format("D_MMM_YYYY"),u="Stoppage_Analysis_Report_"+i+"_TO_"+r,f=n+"?beginDate="+$beginDate+"&endDate="+$endDate+"&bbid=&downloadType="+t+"&reportName="+u+"&custId="+$custid+"&sEcho=1&iDisplayStart=0&iDisplayLength=100000&sSearch=&iSortCol_0=0&sSortDir_0=asc";window.location=f}var table;$(document).ready(function(){GetOverStoppage(null);$("#dt_basic_Master tbody").on("click","td.details-control",function(){var t=$(this).closest("tr"),n=table.row(t);n.child.isShown()?(n.child.hide(),t.removeClass("shown")):(n.child(format(n.data())).show(),t.addClass("shown"));$("#subTbl th").css("background-color","rgba(128, 128, 128, 0.74)");$("#subTbl th").css("color","White")})});$("#BtnSearch").click(function(){GetOverStoppage(null)});$("#excelExport").click(function(){var n=baseUrl+"Reportsapi/GetOverStoppageReport";DownloadData(n,"Excel")});$("#pdfExport").click(function(){var n=baseUrl+"Reportsapi/GetOverStoppageReport";DownloadData(n,"PDF")});
/*
//# sourceMappingURL=StoppageAnalysisReport.min.js.map
*/